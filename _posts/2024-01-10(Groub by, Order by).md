다중행 함수

|순번|함수명|설명|사용방법|
|---|---|---|---|
|1|groub by column1 column2| 기준 컬럼을 정해, 해당 기준으로 다중행 함수를 계산| select deptno, avg(sal) from scott.emp group by deptno;|
|2|order by column1 column2| 기준 컬럼을 정해, 기준 컬럼 순서대로 결과값을 출력| select deptno, job, avg(sal) from scott.emp group by deptno, job deptno order by deptno, job;|

*이 포스트는 개인이 공부한 내용을 기록하기 위함이니, 잘못된 내용이 있다면 의견 주세요. 검토 후 적극 반영하겠습니다. *



7.1 서블릿의 비즈니스 로직 처리

서블릿의 비즈니스 처리 작업이란 서블릿이 클라이언트로부터 요청을 받으면 요청에 대해 작업을 수행하고 그에 대한 적절한 응답을 하는 것을 의미한다.

웹 프로그램에서 대부분의 비즈니스 처리 작업은 데이터베이스 연동 관련 작업이지만, 타 서버와의 연동도 비즈니스 처리 작업 중에 하나이다.

대표적인 비즈니스 처리 작업 예로는 아래와 같은 것들이 있다.

1. 웹 사이트 회원 등록 요청 처리 작업

2. 웹 사이트 로그인 요청 처리 작업

3. 쇼핑몰 상품 주문 처리 작업
   
   

7.2 서블릿 비즈니스 처리 과정 및 연동 방법

클라이언트로부터 요청을 받았을 때, 웹 프로그램이 데이터베이스와 연동하여 비즈니스 로직을 처리하고 응답하는 과정은 다음 절차와 같다.

1. 클라이언트 -> 서버(서블릿) : 정보 전달(ex. 회원 정보)

2. 서버(서블릿)에서 DAO 클래스 생성

3. sql 패키지를 활용하여 DAO 클래스에서 데이터베이스 연동

4. VO(DTO 또는, TABLE DAO) 생성 및 쿼리 조회 데이터 저장

5. PrintWriter 객체의 print 또는 println 메서드를 활용해 클라이언트로 HTML 코드 응답



7.3 statement 인터페이스와 PreparedStatement 인터페이스

서블릿과 데이터베이스를 연동하기 위해, Statment 인터페이스를 사용하거나 PreparedStatment를 사용할 수 있다. Statement 인터페이스와 PreparedStatement 인터페이스는 부모-자식 클래스이며, Statment 인터페이스는 단순 문자열을 DBMS에 전달하므로 DBMS에서 SQL문을 컴파일 후 실행하여야 하며, PreparedStatement 인터페이스는 미리 SQL문을 컴파일하여 DBMS에서의 별도 컴파일이 불필요하므로 작업 속도를 개선할 수 있다는 특징이 있다. 따라서, 데이터베이스와 연동하여 반복적이고 신속한 비즈니스 로직 처리를 위해서는 PreparedStatment 인터페이스를 사용하는 것이 적합하다 할 수 있다.



7.4 Connection pool 

사용자가 많은 웹 어플리캐이션의 경우, 빈번하게 비즈니스 로직 처리가 요구되며(데이터베이스 연동) 필요할 때마다 연동해서 작업할 경우 부하가 걸릴 수 있다. 이러한 문제점을 해결하기 위한 기법이 WAS Connection pool이다. Connection pool 기술을 활용하면, 사전에 데이터베이스와 애플리캐이션 간 연결 상태를 유지하여 신속하게 비즈니스 로직 업무를 처리할 수 있다. 

\* WAS마다 사용법 및 패키지가 상이할 순 있으며, 톰캣에서는 sql 패키지의 DataSource 클래스를 활용한다. 
